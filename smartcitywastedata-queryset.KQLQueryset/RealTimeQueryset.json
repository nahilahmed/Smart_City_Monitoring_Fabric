{"payload":{"tabs":[{"id":"48cb77c5-ea37-42a4-b1ce-8111642d44a1","queryRange":{"startLineNumber":95,"startColumn":1,"endLineNumber":101,"endColumn":1},"text":"\n// 1. Sample Records (Basic Data Check)\nsmartcitywastedata\n| take 10\n\n\n// 2. High Occupancy Bins (Priority Collection View)\nsmartcitywastedata\n| where occupancyPercentage >= 90\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, wasteLevel, capacity, occupancyPercentage, status, entryTime\n| order by occupancyPercentage desc\n\n\n// 3. Bin Status Overview (Status Summary)\nsmartcitywastedata\n| summarize count() by status\n| order by status desc\n\n\n// 4. Real-Time Bin Locations on a Map (Geospatial View)\nsmartcitywastedata\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, occupancyPercentage, status, entryTime\n\n\n// 5. Waste Level Over Time (Trend Analysis)\nsmartcitywastedata\n| project entryTime, binID, wasteLevel\n| summarize avg(wasteLevel) by binID, binTime = bin(entryTime, 1h)\n| order by binTime asc\n\n\n// 6. Average Occupancy by Location (Regional Insights)\nsmartcitywastedata\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| summarize avg(occupancyPercentage) by latitude, longitude\n\n\n// 7. Critical Alerts for Full Bins (Alert Monitoring)\nsmartcitywastedata\n| where occupancyPercentage == 100\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, wasteLevel, entryTime\n\n\n// 8. Capacity Utilization (Efficiency Metrics)\nsmartcitywastedata\n| project binID, capacity, wasteLevel\n| extend utilization = wasteLevel / capacity * 100\n| summarize avg(utilization) by binID\n\n\n// 9. High Waste-Generating Days (Daily Waste Patterns)\nsmartcitywastedata\n| summarize totalWaste = sum(wasteLevel) by day = startofday(entryTime)\n| order by totalWaste desc\n\n\n// 10. Average Time Between Collections (Operational Insights)\nsmartcitywastedata\n| where status == \"empty\" or status == \"full\"\n| project binID, entryTime, status\n| order by binID, entryTime\n| serialize\n| extend previousEntryTime = prev(entryTime)\n| extend timeBetweenCollections = datetime_diff('hour', entryTime, previousEntryTime)\n| where status == \"empty\"  // Filter to include only times when the bin was emptied\n| summarize avgTime = avg(timeBetweenCollections) by binID\n\n\nsmartcitywastedata\n| where occupancyPercentage >= 90\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, wasteLevel, capacity, occupancyPercentage, status, entryTime\n| order by occupancyPercentage desc\n| render table\n\nsmartcitywastedata\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, occupancyPercentage, status, entryTime\n| render map with (kind=point, latitude=latitude, longitude=longitude)\n\nsmartcitywastedata\n| summarize count() by status\n| order by status desc\n| render piechart with (title=\"Bin Status Distribution\")\n\nsmartcitywastedata\n| project entryTime, binID, wasteLevel\n| summarize avgWasteLevel = avg(wasteLevel) by binTime = bin(entryTime, 1h)\n| order by binTime asc\n| render timechart with (title=\"Average Waste Level Over Time\")\n\nsmartcitywastedata\n| where occupancyPercentage == 100\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, wasteLevel, entryTime\n| render table with (title=\"Full Bins Requiring Immediate Attention\")\n\n\n\n\n\n\n\n","commandInContext":"smartcitywastedata\n| where occupancyPercentage == 100\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, wasteLevel, entryTime\n| render table with (title=\"Full Bins Requiring Immediate Attention\")\n\n","executionStatus":"gotFromCache","clientRequestId":"Kusto.Web.RTA.QuerySet;761cdfa0-be7c-4a4e-b9a4-37c9cc7aa15f;189ff0d6-9d2d-4c2b-bf40-986a002a66d9","completionInfo":-1425777524,"entityInContext":"trd-pkce15jwwtnekncq6t.z0/6ed7ffb5-84f0-4836-9d56-16a92b60f3cc","commandType":"Query","commandWithoutLeadingComments":"smartcitywastedata\n| where occupancyPercentage == 100\n| extend latitude = todouble(location.lat), longitude = todouble(location.lon)\n| project binID, latitude, longitude, wasteLevel, entryTime\n| render table with (title=\"Full Bins Requiring Immediate Attention\")\n\n","hideEmptyColumns":false,"cursorPosition":{"lineNumber":95,"column":19}}],"tabInContext":"48cb77c5-ea37-42a4-b1ce-8111642d44a1","connections":{"trd-pkce15jwwtnekncq6t.z0":{"clusterType":"Engine","name":"trd-pkce15jwwtnekncq6t.z0","connectionString":"https://trd-pkce15jwwtnekncq6t.z0.kusto.fabric.microsoft.com","initialCatalog":"6ed7ffb5-84f0-4836-9d56-16a92b60f3cc","databases":{"trd-pkce15jwwtnekncq6t.z0/6ed7ffb5-84f0-4836-9d56-16a92b60f3cc":{"id":"trd-pkce15jwwtnekncq6t.z0/6ed7ffb5-84f0-4836-9d56-16a92b60f3cc","name":"6ed7ffb5-84f0-4836-9d56-16a92b60f3cc","prettyName":"smartcitywasterflow-eh","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":115,"majorVersion":15}},"id":"trd-pkce15jwwtnekncq6t.z0","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Trident"}}}}